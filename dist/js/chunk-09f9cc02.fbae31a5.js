(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-09f9cc02"],{"03a4":function(t,e,n){"use strict";n("52eb")},"0f9e":function(t,e,n){"use strict";n.r(e);var o,a,i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"register",style:{backgroundImage:"url("+t.bgImage+")"}},[n("div",{staticClass:"register-son"},[n("van-form",{on:{submit:t.onSubmit}},[n("div",{staticClass:"registerDiv"},[n("h3",{staticClass:"register-title"},[t._v("注册")]),n("van-field",{attrs:{autofocus:!0,border:"","label-align":"left",name:"name",label:"用户名:",clearable:!0,placeholder:"请输入用户名",rules:[{pattern:t.pattern,message:"用户名长度必须2-12位"}]},model:{value:t.value1,callback:function(e){t.value1=e},expression:"value1"}}),n("van-field",{attrs:{"label-align":"left",name:"password",label:"密码:",type:"password",clearable:!0,placeholder:"请再次输入密码",rules:[{validator:t.validator,message:"密码必须由6-12位数字、英文字母或者下划线组成"}]},model:{value:t.value2,callback:function(e){t.value2=e},expression:"value2"}}),n("van-field",{attrs:{"label-align":"left",name:"password",label:"确认密码:",type:"password",clearable:!0,placeholder:"请输入密码",rules:[{validator:t.validator,message:"密码必须由6-12位数字、英文字母或者下划线组成"}]},model:{value:t.value3,callback:function(e){t.value3=e},expression:"value3"}}),n("div",{staticClass:"auto-code"},[n("div",{staticClass:"auto-left"},[n("van-field",{attrs:{name:"autoCode",clearable:!0,"left-icon":t.ErrorIcon,"input-align":"center",placeholder:"请输入右侧验证码"},on:{input:t.autoInput},model:{value:t.value4,callback:function(e){t.value4=e},expression:"value4"}})],1),n("div",{staticClass:"auto-right",on:{click:t.refreshCode}},[n("span",{style:{display:t.display[0],color:t.color[0],transform:t.transform[0]}},[t._v("\n              "+t._s(t.value5[0])+"\n            ")]),n("span",{style:{display:t.display[1],color:t.color[1],transform:t.transform[1]}},[t._v("\n              "+t._s(t.value5[1])+"\n            ")]),n("span",{style:{display:t.display[2],color:t.color[2],transform:t.transform[2]}},[t._v("\n              "+t._s(t.value5[2])+"\n            ")]),n("span",{style:{display:t.display[3],color:t.color[3],transform:t.transform[3]}},[t._v("\n              "+t._s(t.value5[3])+"\n            ")])])]),n("div",{staticClass:"btn"},[n("span",{staticClass:"btn-left",on:{click:t.btnLeft}},[n("span",{class:{touchColor:t.whether},on:{touchstart:t.touchstart,touchend:t.touchend}},[t._v("已有账号？去登录")])])])],1),n("div",{staticClass:"login-bottom",staticStyle:{margin:"0px 10px"}},[n("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit"}},[t._v("注册账号")])],1)])],1)])},r=[],s=n("ade3"),l=(n("c3a6"),n("ad06")),c=(n("66b9"),n("b650")),u=(n("be7f"),n("565f")),f=(n("7f7f"),n("38d5"),n("772a")),d=n("4424"),h=n.n(d),m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"s-canvas"},[n("canvas",{attrs:{id:"s-canvas",width:t.contentWidth,height:t.contentHeight}})])},p=[],v=(n("6c7b"),n("c5f6"),{name:"AutoCode",props:{identifyCode:{type:String,default:"1234"},fontSizeMin:{type:Number,default:25},fontSizeMax:{type:Number,default:30},backgroundColorMin:{type:Number,default:255},backgroundColorMax:{type:Number,default:255},colorMin:{type:Number,default:0},colorMax:{type:Number,default:160},lineColorMin:{type:Number,default:100},lineColorMax:{type:Number,default:255},dotColorMin:{type:Number,default:0},dotColorMax:{type:Number,default:255},contentWidth:{type:Number,default:112},contentHeight:{type:Number,default:31}},methods:{randomNum:function(t,e){return Math.floor(Math.random()*(e-t)+t)},randomColor:function(t,e){var n=this.randomNum(t,e),o=this.randomNum(t,e),a=this.randomNum(t,e);return"rgb("+n+","+o+","+a+")"},drawPic:function(){var t=document.getElementById("s-canvas"),e=t.getContext("2d");e.textBaseline="bottom",e.fillStyle=this.randomColor(this.backgroundColorMin,this.backgroundColorMax),e.fillRect(0,0,this.contentWidth,this.contentHeight);for(var n=0;n<this.identifyCode.length;n++)this.drawText(e,this.identifyCode[n],n);this.drawLine(e),this.drawDot(e)},drawText:function(t,e,n){t.fillStyle=this.randomColor(this.colorMin,this.colorMax),t.font=this.randomNum(this.fontSizeMin,this.fontSizeMax)+"px SimHei";var o=(n+1)*(this.contentWidth/(this.identifyCode.length+1)),a=this.randomNum(this.fontSizeMax,this.contentHeight-5),i=this.randomNum(-45,45);t.translate(o,a),t.rotate(i*Math.PI/180),t.fillText(e,0,0),t.rotate(-i*Math.PI/180),t.translate(-o,-a)},drawLine:function(t){for(var e=0;e<5;e++)t.strokeStyle=this.randomColor(this.lineColorMin,this.lineColorMax),t.beginPath(),t.moveTo(this.randomNum(0,this.contentWidth),this.randomNum(0,this.contentHeight)),t.lineTo(this.randomNum(0,this.contentWidth),this.randomNum(0,this.contentHeight)),t.stroke()},drawDot:function(t){for(var e=0;e<80;e++)t.fillStyle=this.randomColor(0,255),t.beginPath(),t.arc(this.randomNum(0,this.contentWidth),this.randomNum(0,this.contentHeight),1,0,2*Math.PI),t.fill()}},watch:{identifyCode:function(){this.drawPic()}},mounted:function(){this.drawPic()}}),g=v,b=(n("03a4"),n("2877")),y=Object(b["a"])(g,m,p,!1,null,"6f1d22d4",null),N=y.exports,C=(a={name:"Register",components:{AutoCode:N},data:function(){return{value1:"",value2:"",value3:"",value4:"",value5:[],bgImage:h.a,isShowError:!0,whether:!1,ErrorIcon:"",str:"",display:[],color:[],transform:[],pattern:/^.{2,12}$/}}},Object(s["a"])(a,"components",(o={},Object(s["a"])(o,f["a"].name,f["a"]),Object(s["a"])(o,u["a"].name,u["a"]),Object(s["a"])(o,c["a"].name,c["a"]),Object(s["a"])(o,l["a"].name,l["a"]),o)),Object(s["a"])(a,"created",(function(){this.run()})),Object(s["a"])(a,"methods",{validator:function(t){return""==t||/^\w{6,12}$/.test(t)},btnLeft:function(){console.log("点击了用户注册"),this.$router.push("/login")},touchstart:function(){this.whether=!0},touchend:function(){this.whether=!1},autoInput:function(){console.log("监听了输入框变化"),this.ErrorIcon=""},getRandom:function(t,e){return parseInt(t+Math.random()*(e-t+1))},refreshCode:function(t){t.preventDefault(),this.run()},run:function(){this.value5=[],this.str="";for(var t="QWERTYUIOPASDFGHJKLZXCVBNMqwertyuiopasdfghjklzxcvbnm1234567890",e=0;e<4;e++)this.value5[e]=t[this.getRandom(0,t.length-1)],this.display[e]="inline-block",this.color[e]="rgb("+this.getRandom(0,254)+","+this.getRandom(0,254)+","+this.getRandom(0,254)+")",this.transform[e]="translate("+this.getRandom(-5,5)+"px, "+this.getRandom(-5,5)+"px) rotate("+this.getRandom(-20,20)+"deg)",this.str+=this.value5[e]},onSubmit:function(t){console.log("submit",t);var e=this;if(console.log(this.value4),console.log(this.str),this.value2==this.value3){if(this.value4.toLowerCase()!=this.str.toLowerCase())return e.$toast({message:"验证码错误",position:"top"}),this.ErrorIcon="clear",void this.run();console.log("验证码通过"),console.log("点击了注册账号"),this.$axios.post("/users",t).then((function(t){console.log(t),console.log(t.data.isLogin),!1===t.data.isLogin?(console.log(t.data.massage),e.massage=t.data.massage,e.$toast({message:e.massage,position:"top"})):(console.log(t.data.massage),e.$router.push("/home"))})).catch((function(t){console.log(t)}))}else e.$toast({message:"两次密码不一致，请重新输入",position:"top"})}}),a),w=C,x=(n("dedc"),Object(b["a"])(w,i,r,!1,null,"248d0000",null));e["default"]=x.exports},"11e9":function(t,e,n){var o=n("52a7"),a=n("4630"),i=n("6821"),r=n("6a99"),s=n("69a8"),l=n("c69a"),c=Object.getOwnPropertyDescriptor;e.f=n("9e1e")?c:function(t,e){if(t=i(t),e=r(e,!0),l)try{return c(t,e)}catch(n){}if(s(t,e))return a(!o.f.call(t,e),t[e])}},"36bd":function(t,e,n){"use strict";var o=n("4bf8"),a=n("77f1"),i=n("9def");t.exports=function(t){var e=o(this),n=i(e.length),r=arguments.length,s=a(r>1?arguments[1]:void 0,n),l=r>2?arguments[2]:void 0,c=void 0===l?n:a(l,n);while(c>s)e[s++]=t;return e}},"38d5":function(t,e,n){"use strict";n("68ef")},4424:function(t,e,n){t.exports=n.p+"img/login.782568a6.jpg"},"52eb":function(t,e,n){},"5dbc":function(t,e,n){var o=n("d3f4"),a=n("8b97").set;t.exports=function(t,e,n){var i,r=e.constructor;return r!==n&&"function"==typeof r&&(i=r.prototype)!==n.prototype&&o(i)&&a&&a(t,i),t}},"6c7b":function(t,e,n){var o=n("5ca1");o(o.P,"Array",{fill:n("36bd")}),n("9c6c")("fill")},"772a":function(t,e,n){"use strict";var o=n("d282"),a=n("db85"),i=Object(o["a"])("form"),r=i[0],s=i[1];e["a"]=r({props:{colon:Boolean,disabled:Boolean,readonly:Boolean,labelWidth:[Number,String],labelAlign:String,inputAlign:String,scrollToError:Boolean,validateFirst:Boolean,errorMessageAlign:String,submitOnEnter:{type:Boolean,default:!0},validateTrigger:{type:String,default:"onBlur"},showError:{type:Boolean,default:!0},showErrorMessage:{type:Boolean,default:!0}},provide:function(){return{vanForm:this}},data:function(){return{fields:[]}},methods:{getFieldsByNames:function(t){return t?this.fields.filter((function(e){return-1!==t.indexOf(e.name)})):this.fields},validateSeq:function(t){var e=this;return new Promise((function(n,o){var a=[],i=e.getFieldsByNames(t);i.reduce((function(t,e){return t.then((function(){if(!a.length)return e.validate().then((function(t){t&&a.push(t)}))}))}),Promise.resolve()).then((function(){a.length?o(a):n()}))}))},validateFields:function(t){var e=this;return new Promise((function(n,o){var a=e.getFieldsByNames(t);Promise.all(a.map((function(t){return t.validate()}))).then((function(t){t=t.filter((function(t){return t})),t.length?o(t):n()}))}))},validate:function(t){return t&&!Array.isArray(t)?this.validateField(t):this.validateFirst?this.validateSeq(t):this.validateFields(t)},validateField:function(t){var e=this.fields.filter((function(e){return e.name===t}));return e.length?new Promise((function(t,n){e[0].validate().then((function(e){e?n(e):t()}))})):Promise.reject()},resetValidation:function(t){t&&!Array.isArray(t)&&(t=[t]);var e=this.getFieldsByNames(t);e.forEach((function(t){t.resetValidation()}))},scrollToField:function(t,e){this.fields.some((function(n){return n.name===t&&(n.$el.scrollIntoView(e),!0)}))},addField:function(t){this.fields.push(t),Object(a["a"])(this.fields,this)},removeField:function(t){this.fields=this.fields.filter((function(e){return e!==t}))},getValues:function(){return this.fields.reduce((function(t,e){return t[e.name]=e.formValue,t}),{})},onSubmit:function(t){t.preventDefault(),this.submit()},submit:function(){var t=this,e=this.getValues();this.validate().then((function(){t.$emit("submit",e)})).catch((function(n){t.$emit("failed",{values:e,errors:n}),t.scrollToError&&t.scrollToField(n[0].name)}))}},render:function(){var t=arguments[0];return t("form",{class:s(),on:{submit:this.onSubmit}},[this.slots()])}})},"8b97":function(t,e,n){var o=n("d3f4"),a=n("cb7c"),i=function(t,e){if(a(t),!o(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,o){try{o=n("9b43")(Function.call,n("11e9").f(Object.prototype,"__proto__").set,2),o(t,[]),e=!(t instanceof Array)}catch(a){e=!0}return function(t,n){return i(t,n),e?t.__proto__=n:o(t,n),t}}({},!1):void 0),check:i}},9093:function(t,e,n){var o=n("ce10"),a=n("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return o(t,a)}},aa77:function(t,e,n){var o=n("5ca1"),a=n("be13"),i=n("79e5"),r=n("fdef"),s="["+r+"]",l="​",c=RegExp("^"+s+s+"*"),u=RegExp(s+s+"*$"),f=function(t,e,n){var a={},s=i((function(){return!!r[t]()||l[t]()!=l})),c=a[t]=s?e(d):r[t];n&&(a[n]=c),o(o.P+o.F*s,"String",a)},d=f.trim=function(t,e){return t=String(a(t)),1&e&&(t=t.replace(c,"")),2&e&&(t=t.replace(u,"")),t};t.exports=f},b8bb:function(t,e,n){},c5f6:function(t,e,n){"use strict";var o=n("7726"),a=n("69a8"),i=n("2d95"),r=n("5dbc"),s=n("6a99"),l=n("79e5"),c=n("9093").f,u=n("11e9").f,f=n("86cc").f,d=n("aa77").trim,h="Number",m=o[h],p=m,v=m.prototype,g=i(n("2aeb")(v))==h,b="trim"in String.prototype,y=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){e=b?e.trim():d(e,3);var n,o,a,i=e.charCodeAt(0);if(43===i||45===i){if(n=e.charCodeAt(2),88===n||120===n)return NaN}else if(48===i){switch(e.charCodeAt(1)){case 66:case 98:o=2,a=49;break;case 79:case 111:o=8,a=55;break;default:return+e}for(var r,l=e.slice(2),c=0,u=l.length;c<u;c++)if(r=l.charCodeAt(c),r<48||r>a)return NaN;return parseInt(l,o)}}return+e};if(!m(" 0o1")||!m("0b1")||m("+0x1")){m=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof m&&(g?l((function(){v.valueOf.call(n)})):i(n)!=h)?r(new p(y(e)),n,m):y(e)};for(var N,C=n("9e1e")?c(p):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;C.length>w;w++)a(p,N=C[w])&&!a(m,N)&&f(m,N,u(p,N));m.prototype=v,v.constructor=m,n("2aba")(o,h,m)}},dedc:function(t,e,n){"use strict";n("b8bb")},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=chunk-09f9cc02.fbae31a5.js.map